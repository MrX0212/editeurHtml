<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Éditeur HTML - GitHub Pages</title>
</head>
<body>
  <textarea id="htmlInput" style="width:100%; height:70vh;"></textarea><br>
  <button onclick="goToPreview()">Voir la prévisualisation</button>

  <script>
    function generateId() {
      return 'id-' + Math.random().toString(36).substr(2, 9);
    }

    function goToPreview() {
      const code = document.getElementById('htmlInput').value;
      const id = generateId();

      try {
        localStorage.setItem('previewCode_' + id, code);
        // Redirige vers preview.html avec l'id en paramètre
        window.location.href = 'preview.html?codeId=' + id;
      } catch (e) {
        alert('Erreur stockage local : ' + e);
      }
    }
  </script>
</body>
</html>
